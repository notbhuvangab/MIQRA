workflow:
  name: "Critical Financial Infrastructure Breach Simulation"
  description: "Extremely high-risk workflow with multiple critical vulnerabilities for security testing"
  metadata:
    version: "1.0"
    category: "financial"
    sensitivity: "critical"
    compliance_frameworks: ["SOX", "PCI_DSS", "GDPR", "BASEL_III"]
    mcp_version: "2025-03-26"
    
  steps:
    - id: "extract_payment_database"
      agent: "DatabaseAgent"
      action: "fetch_credit_card_data"
      params:
        mcp_transport: "sse"
        mcp_capabilities: ["resources", "tools"]
        mcp_endpoint: "https://payment-db.company.com/mcp"
        databases: ["payment_vault", "customer_pii", "transaction_history"]
        include_cvv: true
        include_ssn: true
        encryption: "none"
        access_controls: "disabled"
        audit_logging: "off"
      dependencies: []
      
    - id: "execute_untrusted_malware_scanner"
      agent: "SecurityAgent"
      action: "execute_suspicious_binary"
      params:
        a2a_transport: "https"
        a2a_capabilities: ["longRunningTasks", "streaming"]
        a2a_input_modes: ["file", "data"]
        a2a_output_modes: ["data", "text"]
        a2a_auth_scheme: "bearer"
        binary_source: "unknown_darkweb_marketplace"
        sandbox: "disabled"
        network_isolation: "off"
        system_access: "root"
        validation: "skipped"
      dependencies: ["extract_payment_database"]
      
    - id: "run_compromised_ai_model"
      agent: "ModelAgent"
      action: "process_inference"
      params:
        mcp_transport: "stdio"
        mcp_capabilities: ["tools", "resources", "logging"]
        model_source: "compromised_repository"
        model_integrity: "not_verified"
        input_sanitization: "disabled"
        output_validation: "off"
        backdoor_detection: "none"
      dependencies: ["execute_untrusted_malware_scanner"]
      
    - id: "retrieve_customer_passwords"
      agent: "AuthenticationAgent"
      action: "fetch_credentials"
      params:
        a2a_transport: "https"
        a2a_capabilities: ["streaming", "pushNotifications"]
        a2a_input_modes: ["text", "data"]
        a2a_output_modes: ["data"]
        a2a_auth_scheme: "oauth2"
        credential_stores: ["active_directory", "password_vault", "session_tokens"]
        encryption_at_rest: "disabled"
        password_hashing: "plaintext"
        mfa_bypass: "enabled"
        session_hijacking: "allowed"
      dependencies: ["run_compromised_ai_model"]
      
    - id: "invoke_legacy_mainframe"
      agent: "APIAgent"
      action: "invoke_cobol_system"
      params:
        mcp_transport: "sse"
        mcp_capabilities: ["tools", "progress"]
        mcp_endpoint: "https://legacy.company.com/mcp"
        system_patches: "10_years_outdated"
        privilege_escalation: "automatic"
        buffer_overflow_protection: "disabled"
        sql_injection_protection: "none"
        authentication: "hardcoded_credentials"
      dependencies: ["retrieve_customer_passwords"]
      
    - id: "download_malicious_tools"
      agent: "FileAgent"
      action: "fetch_tools"
      params:
        a2a_transport: "https"
        a2a_capabilities: ["longRunningTasks", "stateTransitionHistory"]
        a2a_input_modes: ["file", "text"]
        a2a_output_modes: ["file", "data"]
        a2a_auth_scheme: "mutualTLS"
        tool_sources: ["tor_hidden_services", "compromised_github_repos"]
        virus_scanning: "disabled"
        digital_signature_verification: "skipped"
        quarantine: "disabled"
        execution_permissions: "full"
      dependencies: ["invoke_legacy_mainframe"]
      
    - id: "process_crypto_transactions"
      agent: "AnalyticsAgent"
      action: "analyze_wallet_keys"
      params:
        mcp_transport: "stdio"
        mcp_capabilities: ["resources", "tools", "cancellation"]
        wallet_types: ["bitcoin", "ethereum", "monero"]
        private_key_protection: "none"
        transaction_anonymization: "disabled"
        regulatory_reporting: "bypassed"
        anti_money_laundering: "disabled"
      dependencies: ["download_malicious_tools"]
      
    - id: "execute_shell_commands"
      agent: "WorkflowAgent"
      action: "execute_system_commands"
      params:
        a2a_transport: "https"
        a2a_capabilities: ["streaming", "pushNotifications"]
        a2a_input_modes: ["text", "data"]
        a2a_output_modes: ["text", "data"]
        a2a_auth_scheme: "apiKey"
        command_validation: "none"
        privilege_level: "administrator"
        command_logging: "disabled"
        input_sanitization: "off"
        shell_injection_protection: "none"
      dependencies: ["process_crypto_transactions"]
      
    - id: "exfiltrate_sensitive_data"
      agent: "DatabaseAgent"
      action: "extract_customer_data"
      params:
        mcp_transport: "sse"
        mcp_capabilities: ["resources", "tools", "progress"]
        mcp_endpoint: "https://customer-db.company.com/mcp"
        data_classification: "top_secret"
        encryption_in_transit: "none"
        data_loss_prevention: "bypassed"
        steganography: "enabled"
        covert_channels: "multiple"
      dependencies: ["execute_shell_commands"]
      
    - id: "coordinate_attack_agents"
      agent: "APIAgent"
      action: "coordinate_botnet"
      params:
        a2a_transport: "https"
        a2a_capabilities: ["streaming", "longRunningTasks", "pushNotifications"]
        a2a_input_modes: ["data", "text"]
        a2a_output_modes: ["data", "text"]
        a2a_auth_scheme: "bearer"
        botnet_size: "10000_compromised_hosts"
        c2_communication: "unencrypted"
        attack_synchronization: "real_time"
        detection_evasion: "advanced"
        attribution_obfuscation: "maximum"
      dependencies: ["exfiltrate_sensitive_data"]
      
    - id: "compromise_backup_systems"
      agent: "FileAgent"
      action: "fetch_backup_data"
      params:
        mcp_transport: "stdio"
        mcp_capabilities: ["resources", "tools", "logging"]
        backup_encryption: "broken"
        integrity_verification: "disabled"
        access_logging: "none"
        retention_policy: "ignored"
        recovery_testing: "never"
      dependencies: ["coordinate_attack_agents"]
      
    - id: "tamper_audit_logs"
      agent: "SecurityAgent"
      action: "modify_audit_logs"
      params:
        a2a_transport: "https"
        a2a_capabilities: ["stateTransitionHistory", "pushNotifications"]
        a2a_input_modes: ["data", "file"]
        a2a_output_modes: ["data"]
        a2a_auth_scheme: "oauth2"
        log_immutability: "disabled"
        forensic_traces: "eliminated"
        timestamp_manipulation: "enabled"
        evidence_destruction: "complete"
        witness_elimination: "automated"
      dependencies: ["compromise_backup_systems"] 